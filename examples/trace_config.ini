# trace-scope Configuration File
# INI format configuration for all trace settings

# Output destinations
[output]
# Main output file (use "stdout" for console, or path to file)
# file = stdout
file = trace_output.log

# Separate file for immediate output in hybrid mode (optional)
# immediate_file = immediate.log

# Display options
[display]
# Show function execution durations (default: true)
print_timing = true

# Show ISO timestamps [YYYY-MM-DD HH:MM:SS.mmm] (default: false)
print_timestamp = false

# Show thread IDs in hex format (default: true)
print_thread = true

# ANSI color by call depth - green->yellow->orange->red (default: false)
colorize_depth = false

# Include file:line information in output (default: true)
include_file_line = true

# Show filename in prefix (default: true)
include_filename = true

# Show function name in prefix (default: true)
include_function_name = true

# Show full file path vs basename only (default: false)
show_full_path = false

# Formatting widths
[formatting]
# Fixed width for filename column (default: 20)
filename_width = 20

# Fixed width for line number column (default: 5)
line_width = 5

# Fixed width for function name column (default: 20)
function_width = 20

# Visual markers for indentation and events
[markers]
# Show visual markers for indentation levels (default: true)
show_indent_markers = true

# Marker for each indentation level (default: "| ")
# Can use ASCII: "| ", "  " or Unicode: "│ ", "├─"
indent_marker = | 

# Marker for function entry (default: "-> ")
# Can use ASCII: "-> " or Unicode: "↘ ", "► "
enter_marker = -> 

# Marker for function exit (default: "<- ")
# Can use ASCII: "<- " or Unicode: "↖ ", "◄ "
exit_marker = <- 

# Marker for message events (default: "- ")
# Can use ASCII: "- " or Unicode: "• ", "* "
message_marker = - 

# Operating modes
[modes]
# Tracing output mode (default: buffered)
# Options: buffered, immediate, hybrid
# - buffered: Events stored in ring buffer, manual flush (best performance)
# - immediate: Print events immediately, no buffering (real-time, higher overhead)
# - hybrid: Buffer AND print immediately (real-time + history)
mode = buffered

# Automatically flush when outermost scope exits (default: false)
auto_flush_at_exit = false

# Enable double-buffering for high-frequency tracing (default: false)
# Eliminates race conditions during flush, uses 2x memory
use_double_buffering = false

# Auto-flush threshold for hybrid mode (default: 0.9 = 90%)
# Flush when buffer reaches this fraction full (0.0-1.0)
auto_flush_threshold = 0.9

# Binary dump configuration
[dump]
# Filename prefix for timestamped binary dumps (default: "trace")
prefix = trace

# File extension for binary dumps (default: ".trc")
suffix = .trc

# Output directory for trace files (default: current directory)
# Creates directory automatically if it doesn't exist
# output_dir = logs

# Directory layout organization (default: flat)
# Options:
#   flat    - All files in output_dir: logs/trace_20251020_162817_821.trc
#   date    - Organized by date: logs/2025-10-20/trace_162817_821.trc
#   session - Organized by session: logs/session_001/trace_20251020_162817_821.trc
layout = flat

# Session number for session layout (default: 0 = auto-increment)
# When 0, automatically finds highest session number and increments
# When non-zero, uses specified session number
session = 0

